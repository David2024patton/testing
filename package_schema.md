<!--
  File: PACKAGE_SCHEMA.md
  Location: ./PACKAGE_SCHEMA.md
  Description: Schema reference for the package.json manifest of the VibeCoding extension.
-->

# VibeCoding `package.json` Schema Reference

This document describes each field in the `package.json` manifest for the VibeCoding VS Code extension. Use this as the source of truth when modifying or extending the manifest.

---

## Top-Level Fields

- **name** (`string`): Unique identifier for the extension (e.g., `vibe-coding`).
- **displayName** (`string`): Human-readable name displayed in the VS Code Marketplace (e.g., `VibeCoding`).
- **description** (`string`): Short summary of the extension’s purpose.
- **version** (`string`): Semantic version of the extension.
- **publisher** (`string`): Publishing namespace under which the extension is published.
- **license** (`string`): License type (e.g., `MIT`).
- **engines.vscode** (`string`): Minimum compatible VS Code engine version (e.g., `^1.85.0`).
- **categories** (`string[]`): Marketplace categories (e.g., `Programming Languages`, `Other`).

## Activation Events

List of events or contexts that trigger the extension to activate.  _Note: Command-based activation events are now auto-generated by VS Code from the declared commands, so you only need to list non-command activators here._

| Entry                             | Description                                           |
|-----------------------------------|-------------------------------------------------------|
| `onLanguage:python`               | Activate when a Python file opens.                    |
| `onLanguage:javascript`           | Activate when a JavaScript file opens.                |
| `onLanguage:java`                 | Activate when a Java file opens.                      |
| `workspaceContains:**/.vibe`      | Activate if a `.vibe` folder exists in the workspace. |

## Main Entry

- **main** (`string`): Path to the compiled JavaScript entry point (e.g., `./dist/extension.js`).

## Contributes

### Commands

Defines the commands made available by the extension (VS Code auto-generates corresponding activation events):

```jsonc
"commands": [
  { "command": "vibecoding.startCoding", "title": "Start VibeCoding", "category": "VibeCoding" },
  { "command": "vibecoding.stopCoding", "title": "Stop VibeCoding", "category": "VibeCoding" },
  { "command": "vibecoding.generateDocs", "title": "Generate Documentation", "category": "VibeCoding" },
  { "command": "vibecoding.backupProject", "title": "Backup Project", "category": "VibeCoding" },
  { "command": "vibecoding.viewHistory", "title": "View File Change History", "category": "VibeCoding" },
  { "command": "vibecoding.reindexWorkspace", "title": "Re-Index Workspace", "category": "VibeCoding" }
]
```

### Configuration

User-facing settings exposed in **Settings → Extensions → VibeCoding**.

| Property                        | Type      | Default                                | Description                                  |
|---------------------------------|-----------|----------------------------------------|----------------------------------------------|
| `vibecoding.provider`           | `string`  | `"ollama"`                           | Which LLM backend to use.                   |
| `vibecoding.ollamaUrlLocal`     | `string`  | `"http://localhost:11434"`          | Local Ollama API URL.                       |
| `vibecoding.ollamaUrlDocker`    | `string`  | `"http://host.docker.internal:11434"`| Docker/Podman internal Ollama API URL.      |
| `vibecoding.openaiApiKey`       | `string`  | `""`                                 | OpenAI API key.                             |
| `vibecoding.openaiModel`        | `string`  | `"gpt-3.5-turbo"`                    | OpenAI model to use.                        |
| `vibecoding.huggingfaceModel`   | `string`  | `""`                                 | Hugging Face model identifier.              |
| `vibecoding.huggingfaceToken`   | `string`  | `""`                                 | Hugging Face API token.                     |
| `vibecoding.huggingfaceEndpoint`| `string`  | `"https://api-inference.huggingface.co/models"` | Hugging Face inference endpoint.    |
| `vibecoding.enableTelemetry`    | `boolean` | `false`                                | Enable local telemetry.                     |
| `vibecoding.modelPath`          | `string`  | `""`                                 | Path to a local LLM model.                  |
| `vibecoding.performance`        | `string`  | `"balanced"`                         | Performance mode (`high`, `balanced`, `efficient`).   |
| `vibecoding.autoSave`           | `boolean` | `true`                                 | Auto-save generated code.                   |

### Languages

Specifies language identifiers, file extensions, and aliases for syntax-specific features:

```jsonc
"languages": [
  { "id": "python", "extensions": [".py"], "aliases": ["Python"] },
  { "id": "javascript", "extensions": [".js"], "aliases": ["JavaScript"] },
  { "id": "java", "extensions": [".java"], "aliases": ["Java"] }
]
```

### Diagnostics

Registers custom diagnostics source for code analysis (e.g., finding `FIXME` comments):

```jsonc
"diagnostics": [
  { "language": "python", "source": "VibeCoding" },
  { "language": "javascript", "source": "VibeCoding" },
  { "language": "java", "source": "VibeCoding" }
]
```

## Scripts

- **vscode:prepublish**: Compile TypeScript before publishing.
- **compile**: Run `tsc -p ./`.
- **watch**: Run `tsc -watch -p ./`.

## Dependencies

- **devDependencies**: Build-time packages (TypeScript, type defs).
- **dependencies**: Runtime packages (`systeminformation`, `axios`, `eslint`, `flake8`).

---

The activation events section now only lists non-command triggers. Commands are activated automatically by VS Code from the `contributes.commands` declarations.
